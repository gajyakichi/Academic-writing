# macOS アプリアイコン作成ガイド

このガイドに従って、ダブルクリックで研究環境を起動できる macOS アプリを作成します。

---

## 方法 1: Automator で .app を作成（推奨）

### ステップ 1: Automator を開く

1. **Spotlight** (⌘ + Space) で「Automator」と入力
2. **Automator.app** を開く

### ステップ 2: アプリケーションを作成

1. 「新規書類」ウィンドウで **「アプリケーション」** を選択
2. 「選択」をクリック

### ステップ 3: シェルスクリプトを実行

1. 左側の **「アクション」** から **「シェルスクリプトを実行」** を探す
2. それを右側のワークフローエリアにドラッグ

### ステップ 4: スクリプトを設定

1. **シェル**: `/bin/bash` を選択
2. **入力の引き渡し方法**: 「引数として」を選択（デフォルト）
3. 以下のスクリプトを入力:

```bash
cd /Users/satoshiyamaguchi/Documents/Metabolism_vs_SCD
./start_research.sh
```

### ステップ 5: 保存

1. **ファイル** → **保存** (⌘ + S)
2. **名前**: `研究スタート` または `Research Start`
3. **保存場所**:
   - **デスクトップ** (すぐアクセス)
   - または **アプリケーション** フォルダ
4. **ファイルフォーマット**: 「アプリケーション」（デフォルト）
5. **保存** をクリック

### ステップ 6: アイコンを設定（オプション）

1. 生成された `research_icon.png` を開く（プロジェクトフォルダに保存済み）
2. 画像をコピー (⌘ + C)
3. Finder で作成した「研究スタート.app」を右クリック → **「情報を見る」**
4. 左上の小さいアイコンをクリック
5. ⌘ + V で画像を貼り付け

---

## 方法 2: AppleScript で .app を作成

### ステップ 1: スクリプトエディタを開く

1. **Spotlight** で「スクリプトエディタ」と入力
2. **スクリプトエディタ.app** を開く

### ステップ 2: AppleScript を作成

以下のスクリプトを入力:

```applescript
tell application "Terminal"
    activate
    do script "cd /Users/satoshiyamaguchi/Documents/Metabolism_vs_SCD && ./start_research.sh"
end tell
```

### ステップ 3: アプリケーションとして保存

1. **ファイル** → **書き出す...**
2. **名前**: `研究スタート`
3. **ファイルフォーマット**: **アプリケーション**
4. **保存**

---

## 使い方

### デスクトップから起動

1. **デスクトップの「研究スタート」アイコンをダブルクリック**
2. 自動的に以下が起動:
   - ✅ ローカルサーバー (ポート 8013)
   - ✅ プロジェクトダッシュボード (Finder)
   - ✅ 研究ノートカレンダー (Chrome)
   - ✅ VS Code プロジェクト
   - ✅ 今日のノート (自動作成 & 開く)

### ターミナルから起動（代替方法）

```bash
cd ~/Documents/Metabolism_vs_SCD
./start_research.sh
```

---

## トラブルシューティング

### 「開発元を確認できないため開けません」と表示される

1. **システム設定** → **プライバシーとセキュリティ**
2. 「このまま開く」をクリック

### スクリプトが実行されない

1. ターミナルで実行権限を確認:

   ```bash
   chmod +x start_research.sh
   ```

2. Automator のシェルスクリプトでフルパスを使用:
   ```bash
   /Users/satoshiyamaguchi/Documents/Metabolism_vs_SCD/start_research.sh
   ```

### ポート 8013 が既に使用されている

```bash
# ポート8013を使用しているプロセスを確認
lsof -ti:8013

# プロセスを終了
kill $(lsof -ti:8013)
```

---

## カスタマイズ

### Dock に追加

1. 作成した「研究スタート.app」を **Dock** にドラッグ
2. 常に表示されるようになります

### キーボードショートカット

1. **システム設定** → **キーボード** → **ショートカット**
2. **アプリケーション** → **+** ボタン
3. アプリケーション: 研究スタート.app
4. お好みのショートカットを設定（例: ⌘⌥R）

---

## アイコン画像の場所

- **ファイル名**: `research_icon.png`
- **場所**: プロジェクトルート
- **使い方**: アプリの「情報を見る」でアイコンに設定

---

## 今後の拡張

### 終了スクリプトも作成

`stop_research.sh` を作成して、サーバー停止も簡単に:

```bash
#!/bin/bash
# ローカルサーバーを停止
kill $(lsof -ti:8013) 2>/dev/null
echo "✅ 研究環境を終了しました"
```

### Alfred / Raycast ワークフロー

Alfred や Raycast を使っている場合、シェルスクリプトをワークフローに登録できます。

---

**これで研究開始が超簡単になります！** 🚀
